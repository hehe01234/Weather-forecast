# ğŸŒ¦ï¸ å¤©æ°”é¢„æµ‹AIç³»ç»Ÿ - æ¨¡å—åŒ–ç‰ˆæœ¬ v2.0

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºæ·±åº¦å­¦ä¹ çš„æ™ºèƒ½å¤©æ°”é¢„æµ‹ç³»ç»Ÿï¼Œé‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œæ”¯æŒå¤šåŸå¸‚ã€å¤šè¾“å‡ºçš„å¤©æ°”é¢„æµ‹ã€‚ç³»ç»Ÿå¯ä»¥åŒæ—¶é¢„æµ‹æ¸©åº¦ï¼ˆæœ€é«˜/æœ€ä½/å¹³å‡ï¼‰å’Œé™é›¨é‡ï¼Œå¹¶æä¾›åˆ†ç±»å’Œå›å½’ä¸¤ç§é™é›¨é¢„æµ‹æ¨¡å¼ã€‚

### ğŸŒŸ ä¸»è¦ç‰¹æ€§

- **ğŸ—ï¸ æ¨¡å—åŒ–æ¶æ„**ï¼šæ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **ğŸ™ï¸ åŸå¸‚ä¸“å±æ¨¡å‹**ï¼šä¸ºæ¯ä¸ªåŸå¸‚å•ç‹¬è®­ç»ƒä¸“ç”¨æ¨¡å‹
- **ğŸŒ¡ï¸ å¤šç»´æ¸©åº¦é¢„æµ‹**ï¼šåŒæ—¶é¢„æµ‹æœ€é«˜ã€æœ€ä½ã€å¹³å‡æ¸©åº¦
- **ğŸŒ§ï¸ æ™ºèƒ½é™é›¨é¢„æµ‹**ï¼šæ”¯æŒåˆ†ç±»å’Œå›å½’ä¸¤ç§é¢„æµ‹æ¨¡å¼
- **ğŸ“Š ä¸°å¯Œç‰¹å¾å·¥ç¨‹**ï¼š15+ç‰¹å¾ï¼ŒåŒ…æ‹¬äº‘é‡ã€å­£èŠ‚ã€è¶‹åŠ¿ç­‰
- **ğŸ§  å…ˆè¿›æ¨¡å‹æ¶æ„**ï¼šLSTMã€CNNã€Transformerèåˆ
- **ğŸ“ˆ å®Œå–„è¯„ä¼°ä½“ç³»**ï¼šå¤šç§è¯„ä¼°æŒ‡æ ‡å’Œå¯è§†åŒ–
- **ğŸ”§ é…ç½®ç®¡ç†**ï¼šé›†ä¸­åŒ–é…ç½®ç®¡ç†ï¼Œæ”¯æŒå¤šç¯å¢ƒ
- **ğŸ§ª å•å…ƒæµ‹è¯•**ï¼šå…¨é¢çš„æµ‹è¯•è¦†ç›–
- **ğŸ“± Webç•Œé¢**ï¼šStreamlitç½‘é¡µåº”ç”¨

## ğŸ“ é¡¹ç›®ç»“æ„

```
Weatherï¼ˆä¿®æ”¹ç‰ˆï¼‰/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_loader/              # æ•°æ®åŠ è½½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ weather_data.py       # å¤©æ°”æ•°æ®è·å–
â”‚   â”‚   â””â”€â”€ preprocessor.py       # æ•°æ®é¢„å¤„ç†
â”‚   â”œâ”€â”€ model/                    # æ¨¡å‹å®šä¹‰æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_model.py         # åŸºç¡€æ¨¡å‹ç±»
â”‚   â”‚   â”œâ”€â”€ temperature_model.py  # æ¸©åº¦é¢„æµ‹æ¨¡å‹
â”‚   â”‚   â””â”€â”€ rainfall_model.py     # é™é›¨é¢„æµ‹æ¨¡å‹
â”‚   â”œâ”€â”€ trainer/                  # è®­ç»ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_trainer.py       # åŸºç¡€è®­ç»ƒå™¨
â”‚   â”‚   â”œâ”€â”€ temperature_trainer.py # æ¸©åº¦æ¨¡å‹è®­ç»ƒå™¨
â”‚   â”‚   â””â”€â”€ rainfall_trainer.py   # é™é›¨æ¨¡å‹è®­ç»ƒå™¨
â”‚   â””â”€â”€ utils/                    # å·¥å…·æ¨¡å—
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ early_stopping.py    # æ—©åœæœºåˆ¶
â”‚       â”œâ”€â”€ metrics.py            # è¯„ä¼°æŒ‡æ ‡
â”‚       â””â”€â”€ visualization.py     # å¯è§†åŒ–å·¥å…·
â”œâ”€â”€ config/                       # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ config.py                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ tests/                        # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_data_loader.py
â”‚   â”œâ”€â”€ test_models.py
â”‚   â””â”€â”€ test_trainers.py
â”œâ”€â”€ models/                       # è®­ç»ƒå¥½çš„æ¨¡å‹
â”‚   â”œâ”€â”€ åŒ—äº¬/
â”‚   â”œâ”€â”€ ä¸Šæµ·/
â”‚   â”œâ”€â”€ å¹¿å·/
â”‚   â”œâ”€â”€ æ·±åœ³/
â”‚   â””â”€â”€ è¥¿å®‰/
â”œâ”€â”€ data/                         # æ•°æ®ç›®å½•
â”œâ”€â”€ logs/                         # æ—¥å¿—ç›®å½•
â”œâ”€â”€ plots/                        # å›¾è¡¨ç›®å½•
â”œâ”€â”€ train.py                      # è®­ç»ƒè„šæœ¬å…¥å£
â”œâ”€â”€ WeatherApp.py                 # Streamlitç½‘é¡µåº”ç”¨
â”œâ”€â”€ requirements.txt              # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md                     # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ å®‰è£…ä¸é…ç½®

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- PyTorch 1.9.0+
- CUDAï¼ˆå¯é€‰ï¼Œç”¨äºGPUåŠ é€Ÿï¼‰

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd Weatherï¼ˆä¿®æ”¹ç‰ˆï¼‰

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# è®¾ç½®ç¯å¢ƒï¼ˆå¯é€‰ï¼‰
export WEATHER_ENV=development  # development/production/test
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è®­ç»ƒæ¨¡å‹

```bash
# è®­ç»ƒæ¸©åº¦é¢„æµ‹æ¨¡å‹
python train.py --city è¥¿å®‰ --model-type temperature --forecast-days 3

# è®­ç»ƒé™é›¨å›å½’æ¨¡å‹
python train.py --city è¥¿å®‰ --model-type rainfall_regressor --forecast-days 3

# è®­ç»ƒé™é›¨åˆ†ç±»æ¨¡å‹
python train.py --city è¥¿å®‰ --model-type rainfall_classifier --forecast-days 3

# è‡ªå®šä¹‰å‚æ•°è®­ç»ƒ
python train.py --city åŒ—äº¬ --model-type temperature --forecast-days 5 \
                --epochs 50 --batch-size 64 --learning-rate 0.001
```

### 2. å¯åŠ¨Webåº”ç”¨

```bash
streamlit run WeatherApp.py
```

### 3. è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
python -m pytest tests/test_models.py -v
```

## ğŸ“š è¯¦ç»†ä½¿ç”¨è¯´æ˜

### æ•°æ®åŠ è½½æ¨¡å—

```python
from src.data_loader import WeatherDataLoader, WeatherDataProcessor

# åŠ è½½æ•°æ®
loader = WeatherDataLoader()
df = loader.fetch_weather_data("è¥¿å®‰", days=365)

# æ•°æ®é¢„å¤„ç†
processor = WeatherDataProcessor()
processed_df = processor.preprocess_data(df)
```

### æ¨¡å‹åˆ›å»º

```python
from src.model import WeatherModelFactory

# åˆ›å»ºæ¸©åº¦é¢„æµ‹æ¨¡å‹
model = WeatherModelFactory.create_model(
    model_type='temperature',
    input_dim=15,
    hidden_dim=64,
    forecast_days=3
)

# åˆ›å»ºé™é›¨åˆ†ç±»æ¨¡å‹
model = WeatherModelFactory.create_model(
    model_type='rainfall_classifier',
    input_dim=15,
    hidden_dim=64,
    forecast_days=3,
    num_classes=5
)
```

### æ¨¡å‹è®­ç»ƒ

```python
from src.trainer import TemperatureTrainer

# åˆ›å»ºè®­ç»ƒå™¨
trainer = TemperatureTrainer(model)

# è®­ç»ƒæ¨¡å‹
history = trainer.train(train_loader, val_loader, num_epochs=50)

# è¯„ä¼°æ¨¡å‹
metrics = trainer.evaluate(test_loader)
```

### é…ç½®ç®¡ç†

```python
from config import config

# è®¿é—®é…ç½®
print(config.CITIES)              # æ”¯æŒçš„åŸå¸‚åˆ—è¡¨
print(config.HIDDEN_DIM)          # éšè—å±‚ç»´åº¦
print(config.RAINFALL_THRESHOLDS) # é™é›¨åˆ†ç±»é˜ˆå€¼

# è·å–æ¨¡å‹è·¯å¾„
model_path = config.get_model_path("è¥¿å®‰", "temperature", 3)
```

## ğŸ¯ æ¨¡å‹æ¶æ„

### æ¸©åº¦é¢„æµ‹æ¨¡å‹ï¼ˆMultiOutputTemperaturePredictorï¼‰

- **è¾“å…¥**ï¼š15ç»´ç‰¹å¾åºåˆ—ï¼ˆ7å¤©å†å²æ•°æ®ï¼‰
- **æ¶æ„**ï¼šåŒå‘LSTM + å¤šå¤´æ³¨æ„åŠ› + ä¸‰åˆ†æ”¯è¾“å‡º
- **è¾“å‡º**ï¼šæœ€é«˜æ¸©åº¦ã€æœ€ä½æ¸©åº¦ã€å¹³å‡æ¸©åº¦ï¼ˆåŒæ—¶é¢„æµ‹ï¼‰
- **çº¦æŸ**ï¼šç‰©ç†çº¦æŸç¡®ä¿ é«˜æ¸© â‰¥ å¹³å‡æ¸© â‰¥ ä½æ¸©

### é™é›¨é¢„æµ‹æ¨¡å‹

#### å›å½’æ¨¡å‹ï¼ˆSimpleRainfallPredictorï¼‰
- **è¾“å…¥**ï¼š15ç»´ç‰¹å¾åºåˆ—
- **æ¶æ„**ï¼šCNNç‰¹å¾æå– + Transformerç¼–ç å™¨
- **è¾“å‡º**ï¼šè¿ç»­é™é›¨é‡å€¼
- **åå¤„ç†**ï¼šé˜ˆå€¼è¿‡æ»¤ï¼ˆ< 5mmè®¾ä¸º0ï¼‰

#### åˆ†ç±»æ¨¡å‹ï¼ˆRainfallClassifierPredictorï¼‰
- **è¾“å…¥**ï¼š15ç»´ç‰¹å¾åºåˆ—
- **æ¶æ„**ï¼šCNN + Transformer + åˆ†ç±»å¤´
- **è¾“å‡º**ï¼š5ä¸ªé™é›¨ç­‰çº§ï¼ˆæ— é™é›¨ã€å°é›¨ã€ä¸­é›¨ã€å¤§é›¨ã€æš´é›¨ï¼‰
- **é˜ˆå€¼**ï¼š0-5mm, 5-10mm, 10-18mm, 18-38mm, 38-75mm

## ğŸ“Š è¯„ä¼°æŒ‡æ ‡

### æ¸©åº¦é¢„æµ‹
- **å›å½’æŒ‡æ ‡**ï¼šMSEã€MAEã€RMSEã€RÂ²
- **ç‰©ç†çº¦æŸ**ï¼šæ¸©åº¦é€»è¾‘ä¸€è‡´æ€§æ£€æŸ¥
- **åˆ†æ¸©åº¦ç±»å‹**ï¼šåˆ†åˆ«è¯„ä¼°é«˜/ä½/å¹³å‡æ¸©åº¦

### é™é›¨é¢„æµ‹
- **å›å½’æŒ‡æ ‡**ï¼šMSEã€MAEã€RMSEã€RÂ²
- **åˆ†ç±»æŒ‡æ ‡**ï¼šå‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1åˆ†æ•°
- **é™é›¨ç‰¹å®š**ï¼šè™šè­¦ç‡ã€æ¼æŠ¥ç‡ã€é›¨æ—¥å‡†ç¡®ç‡

## ğŸ”§ é…ç½®è¯´æ˜

### ä¸»è¦é…ç½®é¡¹

```python
# æ¨¡å‹é…ç½®
HIDDEN_DIM = 64              # éšè—å±‚ç»´åº¦
NUM_LAYERS = 2               # ç½‘ç»œå±‚æ•°
DROPOUT = 0.3                # Dropoutæ¯”ä¾‹
SEQUENCE_LENGTH = 7          # è¾“å…¥åºåˆ—é•¿åº¦
FORECAST_DAYS_LIST = [3, 5]  # æ”¯æŒçš„é¢„æµ‹å¤©æ•°

# è®­ç»ƒé…ç½®
BATCH_SIZE = 32              # æ‰¹æ¬¡å¤§å°
LEARNING_RATE = 0.001        # å­¦ä¹ ç‡
MAX_EPOCHS = 100             # æœ€å¤§è®­ç»ƒè½®æ•°
EARLY_STOPPING_PATIENCE = 15 # æ—©åœå®¹å¿åº¦

# é™é›¨åˆ†ç±»é˜ˆå€¼
RAINFALL_THRESHOLDS = {
    0: (0, 5),      # æ— é™é›¨
    1: (5, 10),     # å°é›¨  
    2: (10, 18),    # ä¸­é›¨
    3: (18, 38),    # å¤§é›¨
    4: (38, 75)     # æš´é›¨
}
```

### ç¯å¢ƒé…ç½®

- **development**ï¼šå¼€å‘ç¯å¢ƒï¼Œè¯¦ç»†æ—¥å¿—ï¼Œè¾ƒå°‘è®­ç»ƒè½®æ•°
- **production**ï¼šç”Ÿäº§ç¯å¢ƒï¼Œç²¾ç®€æ—¥å¿—ï¼Œå®Œæ•´è®­ç»ƒ
- **test**ï¼šæµ‹è¯•ç¯å¢ƒï¼Œæœ€å°‘æ•°æ®å’Œè½®æ•°

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•è¦†ç›–

- **æ•°æ®åŠ è½½æµ‹è¯•**ï¼šæ•°æ®è·å–ã€é¢„å¤„ç†ã€åºåˆ—åˆ›å»º
- **æ¨¡å‹æµ‹è¯•**ï¼šå‰å‘ä¼ æ’­ã€å‚æ•°åˆå§‹åŒ–ã€ä¿å­˜åŠ è½½
- **è®­ç»ƒæµ‹è¯•**ï¼šè®­ç»ƒæµç¨‹ã€æŸå¤±è®¡ç®—ã€æŒ‡æ ‡è¯„ä¼°
- **å·¥å…·æµ‹è¯•**ï¼šæ—©åœã€æŒ‡æ ‡è®¡ç®—ã€å¯è§†åŒ–

### è¿è¡Œæµ‹è¯•

```bash
# æ‰€æœ‰æµ‹è¯•
python -m pytest tests/ -v

# è¦†ç›–ç‡æŠ¥å‘Š
python -m pytest tests/ --cov=src --cov-report=html

# ç‰¹å®šæ¨¡å—æµ‹è¯•
python -m pytest tests/test_models.py::TestTemperatureModel -v
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®å±‚é¢
- **å¤šæºæ•°æ®**ï¼šæ”¯æŒ6+ä¸ªå¤©æ°”æ•°æ®æº
- **æ™ºèƒ½ç¼“å­˜**ï¼šæœ¬åœ°æ•°æ®ç¼“å­˜æœºåˆ¶
- **æ•°æ®éªŒè¯**ï¼šè‡ªåŠ¨æ•°æ®è´¨é‡æ£€æŸ¥

### æ¨¡å‹å±‚é¢
- **æ³¨æ„åŠ›æœºåˆ¶**ï¼šè‡ªåŠ¨å…³æ³¨é‡è¦æ—¶é—´æ­¥
- **åŒå‘LSTM**ï¼šæ•è·å‰åæ—¶é—´ä¾èµ–
- **å¤šä»»åŠ¡å­¦ä¹ **ï¼šæ¸©åº¦å¤šè¾“å‡ºè”åˆè®­ç»ƒ

### è®­ç»ƒå±‚é¢
- **æ—©åœæœºåˆ¶**ï¼šé˜²æ­¢è¿‡æ‹Ÿåˆ
- **å­¦ä¹ ç‡è°ƒåº¦**ï¼šè‡ªé€‚åº”å­¦ä¹ ç‡è°ƒæ•´
- **æ¢¯åº¦è£å‰ª**ï¼šç¨³å®šè®­ç»ƒè¿‡ç¨‹

## ğŸ¨ å¯è§†åŒ–åŠŸèƒ½

- **é¢„æµ‹ç»“æœå›¾**ï¼šçœŸå®vsé¢„æµ‹å¯¹æ¯”
- **æ€§èƒ½æŒ‡æ ‡å›¾**ï¼šæ¨¡å‹è¯„ä¼°å¯è§†åŒ–
- **è®­ç»ƒå†å²å›¾**ï¼šæŸå¤±å’ŒæŒ‡æ ‡å˜åŒ–
- **ç‰¹å¾é‡è¦æ€§å›¾**ï¼šç‰¹å¾è´¡çŒ®åˆ†æ

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ†˜ é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

1. **ç½‘ç»œè¿æ¥é—®é¢˜**
   - ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æ•°æ®æº
   - æœ€ç»ˆä¼šä½¿ç”¨é«˜è´¨é‡æ¨¡æ‹Ÿæ•°æ®

2. **å†…å­˜ä¸è¶³**
   - å‡å°‘`BATCH_SIZE`å’Œ`DATA_DAYS`
   - ä½¿ç”¨CPUè®­ç»ƒï¼šè®¾ç½®`CUDA_VISIBLE_DEVICES=""`

3. **æ¨¡å‹ä¸æ”¶æ•›**
   - è°ƒæ•´å­¦ä¹ ç‡å’Œç½‘ç»œæ¶æ„
   - æ£€æŸ¥æ•°æ®è´¨é‡å’Œç‰¹å¾å·¥ç¨‹

### æ—¥å¿—åˆ†æ

```bash
# æŸ¥çœ‹è®­ç»ƒæ—¥å¿—
tail -f logs/training.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep "ERROR" logs/training.log
```

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…ï¼š[Your Name]
- é‚®ç®±ï¼š[your.email@example.com]
- é¡¹ç›®åœ°å€ï¼š[https://github.com/username/weather-prediction-ai]

---

**æ„Ÿè°¢ä½¿ç”¨å¤©æ°”é¢„æµ‹AIç³»ç»Ÿï¼ğŸŒŸ** 